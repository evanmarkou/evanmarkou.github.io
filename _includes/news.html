{% assign items = site.data.news | sort: 'date' | reverse %}
{% assign visible_count = include.visible_count | default: 5 %}
{% assign list_id = include.id | default: 'news-list' %}

<div class="news-list" data-visible-count="{{ visible_count }}" data-new-days="{{ include.new_days | default: 60 }}">
  <ul class="news-items" id="{{ list_id }}-items">
    {% for item in items %}
      {% assign index0 = forloop.index0 %}
      <li class="news-item" data-date="{{ item.date | date_to_xmlschema }}"{% if index0 >= visible_count %} hidden{% endif %}>
        <span class="news-date">({{ item.date | date: "%B %Y" }})</span>
        <span class="news-text"> {{ item.text }}</span>
        <span class="news-badge" aria-label="New" title="New" hidden></span>
      </li>
    {% endfor %}
  </ul>
  {% if items.size > visible_count %}
    <button type="button" class="news-toggle" aria-expanded="false" aria-controls="{{ list_id }}-items" aria-label="Show more news items">[more]</button>
  {% endif %}
</div>


